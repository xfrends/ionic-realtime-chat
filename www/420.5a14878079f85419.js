"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[420],{420:(F,c,r)=>{r.r(c),r.d(c,{Tab3PageModule:()=>_});var i=r(7181),g=r(9800),h=r(9808),u=r(4182),e=r(2096),f=r(8568);function p(o,l){if(1&o){const n=e.EpF();e.TgZ(0,"ion-button",17),e.NdJ("click",function(){return e.CHM(n),e.oxw().manageUsers()}),e._UZ(1,"ion-icon",18),e.qZA()}}const d=function(){return{standalone:!0}};let m=(()=>{class o{constructor(n,t){this.contentService=n,this.router=t,this.settingForm={id:null,email:"",name:"",avatar:"",status:"aktif",role:null},this.status=!1}ngOnInit(){this.getProfile()}getProfile(){this.contentService.getToken().then(n=>{this.contentService.getProfile(n).subscribe(t=>{this.settingForm.id=t.content.id,this.settingForm.email=t.content.email,this.settingForm.name=t.content.name,this.settingForm.avatar=t.content.avatar,this.settingForm.status=t.content.status,this.settingForm.role=t.content.role_id,this.status="aktif"===this.settingForm.status})})}editProfile(){this.settingForm.avatar="https://avataaars.io?topType=LongHairStraight"===this.settingForm.avatar?"https://avataaars.io?topType=ShortHairShortWaved":"https://avataaars.io?topType=LongHairStraight",this.contentService.getToken().then(n=>{this.contentService.putUser(n,this.settingForm.id,{avatar:this.settingForm.avatar}).subscribe(t=>{console.log("status: ",t)})})}statusChange(n){null!=this.settingForm.id&&(this.settingForm.status=this.status?"aktif":"nonaktif",this.contentService.getToken().then(t=>{this.contentService.putUser(t,this.settingForm.id,{status:this.settingForm.status}).subscribe(a=>{console.log("status: ",a)})}))}saveName(n){this.contentService.getToken().then(t=>{this.contentService.putUser(t,this.settingForm.id,{name:this.settingForm.name}).subscribe(a=>{console.log("status: ",a)})})}saveEmail(n){this.contentService.getToken().then(t=>{this.contentService.putUser(t,this.settingForm.id,{email:this.settingForm.email}).subscribe(a=>{console.log("status: ",a)})})}logout(){this.contentService.getToken().then(n=>{this.contentService.postLogout(n).subscribe(t=>{this.contentService.deleteToken(),console.log("Success & delete token")},t=>{this.contentService.deleteToken(),console.log("Unauthorization & delete token")})}),this.router.navigate(["/login"])}manageUsers(){this.router.navigate(["tabs/setting/manage-user"])}greaterThan(n,t){return n<t}doRefresh(n){this.getProfile(),setTimeout(()=>{n.target.complete()},2e3)}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(f._),e.Y36(g.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-tab3"]],decls:42,vars:13,consts:[[3,"translucent"],["slot","end","size","small","fill","clear",3,"click",4,"ngIf"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"ion-justify-content-center","ion-margin-vertical"],["size","6","size-md","3",3,"click"],[1,"profile",3,"src","alt"],[1,"ion-justify-content-center"],["size","12"],["slot","end",3,"ngModel","checked","ngModelChange","ionChange"],["position","floating"],["type","text","placeholder","Edit your name",3,"ngModel","ngModelOptions","ngModelChange","ionBlur"],["type","email","placeholder","Edit your email",3,"ngModel","ngModelOptions","ngModelChange","ionBlur"],["size","11"],["expand","block","fill","outline","color","danger",3,"click"],["slot","fixed",3,"ionRefresh"],["slot","end","size","small","fill","clear",3,"click"],["name","person-outline"]],template:function(n,t){1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3," Settings "),e.qZA(),e.YNc(4,p,2,0,"ion-button",1),e.qZA()(),e.TgZ(5,"ion-content",2)(6,"ion-header",3)(7,"ion-toolbar")(8,"ion-title",4),e._uU(9,"Settings"),e.qZA()()(),e.TgZ(10,"ion-grid")(11,"ion-row",5)(12,"ion-col",6),e.NdJ("click",function(){return t.editProfile()}),e._UZ(13,"img",7),e.qZA()()(),e.TgZ(14,"ion-grid")(15,"ion-row",8)(16,"ion-col",9)(17,"ion-item")(18,"ion-label"),e._uU(19,"Online"),e.qZA(),e.TgZ(20,"ion-toggle",10),e.NdJ("ngModelChange",function(s){return t.status=s})("ionChange",function(s){return t.statusChange(s)}),e.qZA()()()()(),e.TgZ(21,"ion-grid")(22,"ion-row",8)(23,"ion-col",9)(24,"ion-item")(25,"ion-label",11),e._uU(26,"Name"),e.qZA(),e.TgZ(27,"ion-input",12),e.NdJ("ngModelChange",function(s){return t.settingForm.name=s})("ionBlur",function(s){return t.saveName(s)}),e.qZA()()()()(),e.TgZ(28,"ion-grid")(29,"ion-row",8)(30,"ion-col",9)(31,"ion-item")(32,"ion-label",11),e._uU(33,"Email"),e.qZA(),e.TgZ(34,"ion-input",13),e.NdJ("ngModelChange",function(s){return t.settingForm.email=s})("ionBlur",function(s){return t.saveEmail(s)}),e.qZA()()()()(),e.TgZ(35,"ion-grid")(36,"ion-row",5)(37,"ion-col",14)(38,"ion-button",15),e.NdJ("click",function(){return t.logout()}),e._uU(39,"Logout"),e.qZA()()()(),e.TgZ(40,"ion-refresher",16),e.NdJ("ionRefresh",function(s){return t.doRefresh(s)}),e._UZ(41,"ion-refresher-content"),e.qZA()()),2&n&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("ngIf",t.greaterThan(t.settingForm.role,4)),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(8),e.s9C("src",t.settingForm.avatar,e.LSH),e.s9C("alt",t.settingForm.name),e.xp6(7),e.Q6J("ngModel",t.status)("checked",t.status),e.xp6(7),e.Q6J("ngModel",t.settingForm.name)("ngModelOptions",e.DdM(11,d)),e.xp6(7),e.Q6J("ngModel",t.settingForm.email)("ngModelOptions",e.DdM(12,d)))},directives:[i.Gu,i.sr,i.wd,h.O5,i.YG,i.gu,i.W2,i.jY,i.Nd,i.wI,i.Ie,i.Q$,i.ho,i.w,u.JJ,u.On,i.pK,i.j9,i.nJ,i.Wo],styles:[".profile[_ngcontent-%COMP%]{border-radius:50%;width:auto;height:auto;border:0}"]}),o})();var T=r(581);const v=[{path:"",component:m},{path:"manage-user",loadChildren:()=>r.e(341).then(r.bind(r,341)).then(o=>o.UserPageModule)}];let b=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[g.Bz.forChild(v)],g.Bz]}),o})(),_=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[i.Pc,h.ez,u.u5,T.e,g.Bz.forChild([{path:"",component:m}]),b]]}),o})()}}]);