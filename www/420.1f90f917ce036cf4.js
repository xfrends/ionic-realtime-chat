"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[420],{420:(_,c,r)=>{r.r(c),r.d(c,{Tab3PageModule:()=>b});var i=r(7181),g=r(9800),m=r(9808),u=r(4182),e=r(2096),p=r(8568);const h=function(){return{standalone:!0}};let d=(()=>{class o{constructor(n,t){this.contentService=n,this.router=t,this.settingForm={id:null,email:"",name:"",avatar:"",status:"aktif"},this.status=!1}ngOnInit(){this.getProfile()}getProfile(){this.contentService.getToken().then(n=>{this.contentService.getProfile(n).subscribe(t=>{this.settingForm.id=t.content.id,this.settingForm.email=t.content.email,this.settingForm.name=t.content.name,this.settingForm.avatar=t.content.avatar,this.settingForm.status=t.content.status,this.status="aktif"===this.settingForm.status})})}editProfile(){this.settingForm.avatar="https://avataaars.io?topType=LongHairStraight"===this.settingForm.avatar?"https://avataaars.io?topType=ShortHairShortWaved":"https://avataaars.io?topType=LongHairStraight",this.contentService.getToken().then(n=>{this.contentService.putUser(n,this.settingForm.id,{avatar:this.settingForm.avatar}).subscribe(t=>{console.log("status: ",t)})})}statusChange(n){null!=this.settingForm.id&&(this.settingForm.status=this.status?"aktif":"nonaktif",this.contentService.getToken().then(t=>{this.contentService.putUser(t,this.settingForm.id,{status:this.settingForm.status}).subscribe(s=>{console.log("status: ",s)})}))}saveName(n){this.contentService.getToken().then(t=>{this.contentService.putUser(t,this.settingForm.id,{name:this.settingForm.name}).subscribe(s=>{console.log("status: ",s)})})}saveEmail(n){this.contentService.getToken().then(t=>{this.contentService.putUser(t,this.settingForm.id,{email:this.settingForm.email}).subscribe(s=>{console.log("status: ",s)})})}logout(){this.contentService.getToken().then(n=>{this.contentService.postLogout(n).subscribe(t=>{this.contentService.deleteToken(),console.log("Success & delete token")},t=>{this.contentService.deleteToken(),console.log("Unauthorization & delete token")})}),this.router.navigate(["/login"])}doRefresh(n){this.getProfile(),setTimeout(()=>{n.target.complete()},2e3)}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(p._),e.Y36(g.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-tab3"]],decls:41,vars:12,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"ion-justify-content-center","ion-margin-vertical"],["size","6","size-md","3",3,"click"],[1,"profile",3,"src","alt"],[1,"ion-justify-content-center"],["size","12"],["slot","end",3,"ngModel","checked","ngModelChange","ionChange"],["position","floating"],["type","text","placeholder","Edit your name",3,"ngModel","ngModelOptions","ngModelChange","ionBlur"],["type","email","placeholder","Edit your email",3,"ngModel","ngModelOptions","ngModelChange","ionBlur"],["size","11"],["expand","block","fill","outline","color","danger",3,"click"],["slot","fixed",3,"ionRefresh"]],template:function(n,t){1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3," Settings "),e.qZA()()(),e.TgZ(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),e._uU(8,"Settings"),e.qZA()()(),e.TgZ(9,"ion-grid")(10,"ion-row",4)(11,"ion-col",5),e.NdJ("click",function(){return t.editProfile()}),e._UZ(12,"img",6),e.qZA()()(),e.TgZ(13,"ion-grid")(14,"ion-row",7)(15,"ion-col",8)(16,"ion-item")(17,"ion-label"),e._uU(18,"Online"),e.qZA(),e.TgZ(19,"ion-toggle",9),e.NdJ("ngModelChange",function(a){return t.status=a})("ionChange",function(a){return t.statusChange(a)}),e.qZA()()()()(),e.TgZ(20,"ion-grid")(21,"ion-row",7)(22,"ion-col",8)(23,"ion-item")(24,"ion-label",10),e._uU(25,"Name"),e.qZA(),e.TgZ(26,"ion-input",11),e.NdJ("ngModelChange",function(a){return t.settingForm.name=a})("ionBlur",function(a){return t.saveName(a)}),e.qZA()()()()(),e.TgZ(27,"ion-grid")(28,"ion-row",7)(29,"ion-col",8)(30,"ion-item")(31,"ion-label",10),e._uU(32,"Email"),e.qZA(),e.TgZ(33,"ion-input",12),e.NdJ("ngModelChange",function(a){return t.settingForm.email=a})("ionBlur",function(a){return t.saveEmail(a)}),e.qZA()()()()(),e.TgZ(34,"ion-grid")(35,"ion-row",4)(36,"ion-col",13)(37,"ion-button",14),e.NdJ("click",function(){return t.logout()}),e._uU(38,"Logout"),e.qZA()()()(),e.TgZ(39,"ion-refresher",15),e.NdJ("ionRefresh",function(a){return t.doRefresh(a)}),e._UZ(40,"ion-refresher-content"),e.qZA()()),2&n&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(8),e.s9C("src",t.settingForm.avatar,e.LSH),e.s9C("alt",t.settingForm.name),e.xp6(7),e.Q6J("ngModel",t.status)("checked",t.status),e.xp6(7),e.Q6J("ngModel",t.settingForm.name)("ngModelOptions",e.DdM(10,h)),e.xp6(7),e.Q6J("ngModel",t.settingForm.email)("ngModelOptions",e.DdM(11,h)))},directives:[i.Gu,i.sr,i.wd,i.W2,i.jY,i.Nd,i.wI,i.Ie,i.Q$,i.ho,i.w,u.JJ,u.On,i.pK,i.j9,i.YG,i.nJ,i.Wo],styles:[".profile[_ngcontent-%COMP%]{border-radius:50%;width:auto;height:auto;border:0}"]}),o})();var f=r(581);const T=[{path:"",component:d}];let v=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[g.Bz.forChild(T)],g.Bz]}),o})(),b=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[i.Pc,m.ez,u.u5,f.e,g.Bz.forChild([{path:"",component:d}]),v]]}),o})()}}]);