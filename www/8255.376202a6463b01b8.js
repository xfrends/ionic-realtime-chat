"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8255],{8255:(S,_,l)=>{l.r(_),l.d(_,{Tab2PageModule:()=>P});var i=l(7181),r=l(9808),d=l(4182),g=l(581),u=l(9800),t=l(2096),p=l(8568),f=l(4762);function h(n,s){if(1&n&&(t.TgZ(0,"ion-text",9)(1,"small"),t._uU(2),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.other_user.status)}}function T(n,s){if(1&n&&(t.TgZ(0,"ion-text",12)(1,"small"),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.Oqu(t.xi3(3,1,e.other_user.updated_at,"mediumDate"))}}function C(n,s){if(1&n&&(t.TgZ(0,"ion-text",12)(1,"small"),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.Oqu(t.xi3(3,1,e.other_user.updated_at,"shortTime"))}}function x(n,s){if(1&n&&(t.YNc(0,T,4,4,"ion-text",10),t.YNc(1,C,4,4,"ng-template",null,11,t.W1O)),2&n){const e=t.MAs(2),o=t.oxw().$implicit;t.Q6J("ngIf",!o.today)("ngIfElse",e)}}function Z(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item-sliding")(1,"ion-item",1),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().contactClick(a.other_user.email)}),t.TgZ(2,"ion-avatar",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"ion-label"),t._uU(5),t.qZA(),t.TgZ(6,"ion-note",4),t.YNc(7,h,3,1,"ion-text",5),t.YNc(8,x,3,2,"ng-template",null,6,t.W1O),t.qZA()(),t.TgZ(10,"ion-item-options",7)(11,"ion-item-option",1),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().contactClick(a)}),t._uU(12,"Open"),t.qZA(),t.TgZ(13,"ion-item-option",8),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().contactArsip(a)}),t._uU(14,"Delete"),t.qZA()()()}if(2&n){const e=s.$implicit,o=t.MAs(9),c=t.oxw();t.xp6(3),t.s9C("src",e.other_user.avatar,t.LSH),t.xp6(2),t.Oqu(e.other_user.name),t.xp6(2),t.Q6J("ngIf",c.isOnline)("ngIfElse",o)}}let A=(()=>{class n{constructor(e,o){this.contentService=e,this.router=o}ngOnInit(){}contactClick(e){this.contentService.getToken().then(o=>{this.contentService.postChat(o,e).subscribe(c=>{this.router.navigate(["tabs/chat/messages"],{queryParams:{id:c.content.id}})},c=>{console.log("error: ",c),401===c.status&&(this.contentService.deleteToken(),this.router.navigate(["/login"]))})})}contactArsip(e){console.log("arsip: ",e),this.contentService.getToken().then(o=>{this.contentService.deleteContact(o,e.id).subscribe(c=>{this.router.navigate(["tabs/contact"])})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p._),t.Y36(u.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-all-contact-list"]],inputs:{contacts:"contacts",isOnline:"isOnline"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"click"],[1,"ion-margin-vertical","ion-margin-end"],[3,"src"],["slot","end"],["color","success",4,"ngIf","ngIfElse"],["lastOnline",""],["side","end"],["color","danger",3,"click"],["color","success"],["color","medium",4,"ngIf","ngIfElse"],["today",""],["color","medium"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-list"),t.YNc(1,Z,15,4,"ion-item-sliding",0),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",o.contacts))},directives:[i.q_,r.sg,i.td,i.Ie,i.BJ,i.Q$,i.uN,r.O5,i.yW,i.IK,i.u8],pipes:[r.uU],styles:[""]}),n})();function v(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"ion-button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw().addContact()}),t._UZ(1,"ion-icon",7),t.qZA()}}function b(n,s){1&n&&t._UZ(0,"app-explore-container",12)}const y=[{path:"add-contact",loadChildren:()=>l.e(2343).then(l.bind(l,2343)).then(n=>n.AddContactPageModule)},{path:"",component:(()=>{class n{constructor(e,o,c){this.router=e,this.platform=o,this.contentService=c,this.contacts=[],this.empty=!0,this.showButton=!1,this.isOnline=!1}ngOnInit(){this.getContact(),this.platform.is("ios")||(this.showButton=!0)}onScroll(e){e.detail.deltaY>0?this.showButton=!0:e.detail.deltaY<0&&this.platform.is("ios")&&(this.showButton=!1)}getContact(){this.contentService.getToken().then(e=>{this.contentService.getContacts(e).subscribe(o=>{if(this.contacts=o.content,0!==this.contacts.length){this.empty=!1;const c=new Date;this.contacts.forEach(a=>{const m=new Date(a.other_user.updated_at);c.toDateString()===m.toDateString()&&(a.today=!0)})}},o=>{console.log("error: ",o),401===o.status&&(this.contentService.deleteToken(),this.router.navigate(["/login"]))})})}addContact(){this.router.navigate(["tabs/contact/add-contact"])}doRefresh(e){this.getContact(),setTimeout(()=>{e.target.complete()},2e3)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.F0),t.Y36(i.t4),t.Y36(p._))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-tab2"]],decls:17,vars:7,consts:[[3,"translucent"],["slot","start"],["slot","end","size","small","fill","clear",3,"click",4,"ngIf"],[3,"fullscreen","scrollEvents","ionScroll"],["collapse","condense"],["size","large"],["slot","end","fill","clear",3,"click"],["name","person-add-outline"],["name","Contact Empty","navigate","tabs/contact/add-contact",4,"ngIf"],[3,"contacts","isOnline"],["slot","fixed",3,"ionRefresh"],["slot","end","size","small","fill","clear",3,"click"],["name","Contact Empty","navigate","tabs/contact/add-contact"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),t._uU(3," Contacts "),t.qZA(),t.YNc(4,v,2,0,"ion-button",2),t.qZA()(),t.TgZ(5,"ion-content",3),t.NdJ("ionScroll",function(a){return o.onScroll(a)}),t.TgZ(6,"ion-header",4)(7,"ion-toolbar")(8,"ion-title",5),t._uU(9,"Contacts"),t.qZA(),t.TgZ(10,"ion-button",6),t.NdJ("click",function(){return o.addContact()}),t._UZ(11,"ion-icon",7),t.qZA()()(),t.YNc(12,b,1,0,"app-explore-container",8),t._UZ(13,"app-all-contact-list",9)(14,"br"),t.TgZ(15,"ion-refresher",10),t.NdJ("ionRefresh",function(a){return o.doRefresh(a)}),t._UZ(16,"ion-refresher-content"),t.qZA()()),2&e&&(t.Q6J("translucent",!0),t.xp6(4),t.Q6J("ngIf",o.showButton),t.xp6(1),t.Q6J("fullscreen",!0)("scrollEvents",!0),t.xp6(7),t.Q6J("ngIf",o.empty),t.xp6(1),t.Q6J("contacts",o.contacts)("isOnline",o.isOnline))},directives:[i.Gu,i.sr,i.wd,r.O5,i.YG,i.gu,i.W2,f.Z,A,i.nJ,i.Wo],styles:[""]}),n})()}];let O=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.Bz.forChild(y)],u.Bz]}),n})(),P=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[i.Pc,r.ez,d.u5,g.e,O]]}),n})()}}]);